<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Memory game</title>
</head>

<body>
  <div class="game-container">
    <script>
      function Game(selector) {
        this.container = document.querySelector('body')
        this.gameBoard = null
        this.scoreContainer = null
        this.timeIntervalId = null
        this.time = 0
        this.deckOfCards = [
          {
            front: "A",
            visible: false,
            complete: false
          },
          {
            front: "A",
            visible: false,
            complete: false
          },
          {
            front: "B",
            visible: false,
            complete: false
          },
          {
            front: "B",
            visible: false,
            complete: false
          },
          {
            front: "C",
            visible: false,
            complete: false
          },
          {
            front: "C",
            visible: false,
            complete: false
          },
          {
            front: "D",
            visible: false,
            complete: false
          },
          {
            front: "D",
            visible: false,
            complete: false
          },
          {
            front: "E",
            visible: false,
            complete: false
          },
          {
            front: "E",
            visible: false,
            complete: false
          },
          {
            front: "F",
            visible: false,
            complete: false
          },
          {
            front: "F",
            visible: false,
            complete: false
          },
          {
            front: "G",
            visible: false,
            complete: false
          },
          {
            front: "G",
            visible: false,
            complete: false
          },
          {
            front: "H",
            visible: false,
            complete: false
          },
          {
            front: "H",
            visible: false,
            complete: false
          }
        ]
      }

      Game.prototype.init = function () {
        this.makeGameBoard()
        this.render()
        this.startCountingTime()
      }

      Game.prototype.makeGameBoard = function () {
        let board = document.createElement('div')
        board.style.width = '70vh'
        board.style.height = '70vh'
        board.style.backgroundColor = 'yellow'
        board.style.display = 'flex'
        board.style.flexWrap = 'wrap'
        board.style.justifyContent = 'center'
        board.className = 'game-board'

        this.container.appendChild(board)
        this.gameBoard = board



        this.deckOfCards.forEach(function (element, index) {
          let card = document.createElement('div')
          card.style.width = '15vh'
          card.style.height = '15vh'
          card.style.display = 'flex'
          card.style.backgroundColor = 'green'
          card.style.margin = '1vh 1vh 1vh 1vh'
          card.style.justifyContent = 'center'
          card.style.alignItems = 'center'
          card.className = 'card-' + index
          // // card.style.margin='1px solid white'
          // card.className='card'
          card.innerHTML = newGame.deckOfCards[index].front
          // console.log(card)
          // document.querySelector('.game-board').innerHTML = card
          document.querySelector('.game-board').appendChild(card)
          document.querySelector('.card-' + index).addEventListener('click', function () {

            if (newGame.deckOfCards[index].visible === true) {
              newGame.deckOfCards[index].visible = false
              document.querySelector('.card-' + index).style.backgroundColor = 'black'
              document.querySelector('.card-' + index).innerHTML = ''
            }
            else {
              newGame.deckOfCards[index].visible = true

              document.querySelector('.card-' + index).style.backgroundColor = 'green'
              card.innerHTML = newGame.deckOfCards[index].front


              for (let i = 0; i < newGame.deckOfCards.length; i++) {
                if (newGame.deckOfCards[i].visible === true && i !== index) {
                  newGame.deckOfCards[i].complete = true
                  newGame.deckOfCards[index].complete = true
                  console.log(newGame.deckOfCards[i])
                  console.log(newGame.deckOfCards[index])
                }
              }
            }


          })
        })
      }


      Game.prototype.render = function () {
        // document.querySelector('.game-container').innerText = 'aaa'
        this.deckOfCards.forEach(function (element, index, array) {
          if (newGame.deckOfCards[index].visible === false) {
            document.querySelector('.card-' + index).style.backgroundColor = 'black'
            document.querySelector('.card-' + index).innerHTML = ''
          }
        })


      }

      Game.prototype.startCountingTime = function () {
        this.timeIntervalId = setInterval(() => {
          this.time = this.time + 1
        }, 1000)

      }

      let newGame = new Game
      newGame.init(document.querySelector('body'))

    </script>
  </div>
  <!-- <script src="game.js"></script> -->
</body>

</html>